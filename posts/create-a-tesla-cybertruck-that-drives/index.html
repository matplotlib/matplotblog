<html lang=en-us dir=ltr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Create a Tesla Cybertruck That Drives &#183; Matplotblog</title><meta name=description content="Learn how to create a Tesla Cybertruck with Matplotlib that drives via animation."><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link href=https://matplotlib.org/matplotblog/css/concated.min.css rel=stylesheet><style>body{background:#ecedef url(https://matplotlib.org/matplotblog/bg_tiles.png)repeat}</style></head><body class=single-body><nav class="nav-bar side-padding"><h1 class=nav-header><a href=https://matplotlib.org/matplotblog/ class=nav-text><img src=https://matplotlib.org/matplotblog/mpl_logo.png></a></h1><a href=index.xml><img src=https://matplotlib.org/matplotblog/rss.svg style=width:25px;margin:10px alt="RSS feed"></a><div class=hamburger-menu><button onclick=hamburgerMenuPressed.call(this) aria-haspopup=true aria-expanded=false aria-controls=menu aria-label=Menu>
<span></span><span></span></button><ul id=menu class=hamburger-menu-overlay><li><a href=https://matplotlib.org/matplotblog/ class=hamburger-menu-overlay-link>Home</a></li><li><a href=https://matplotlib.org/matplotblog/posts/how-to-contribute/ class=hamburger-menu-overlay-link>How to Contribute</a></li><li><a href=https://matplotlib.org/matplotblog/categories/3d class=hamburger-menu-overlay-link>3d</a></li><li><a href=https://matplotlib.org/matplotblog/categories/academia class=hamburger-menu-overlay-link>Academia</a></li><li><a href=https://matplotlib.org/matplotblog/categories/editorial class=hamburger-menu-overlay-link>Editorial</a></li><li><a href=https://matplotlib.org/matplotblog/categories/industry class=hamburger-menu-overlay-link>Industry</a></li><li><a href=https://matplotlib.org/matplotblog/categories/news class=hamburger-menu-overlay-link>News</a></li><li><a href=https://matplotlib.org/matplotblog/categories/tutorials class=hamburger-menu-overlay-link>Tutorials</a></li><li><a href=https://matplotlib.org class=hamburger-menu-overlay-link target=blank>About</a></li></ul></div></nav><main class="content side-text-padding"><article class="post dropcase"><header class=post-header><h1 class=post-title>Create a Tesla Cybertruck That Drives</h1><p class=post-date>Posted <time datetime=2020-01-12>Jan 12, 2020</time>
<span class=post-author>&mdash; By Ted Petrou</span></p></header><picture class=post-figure>
<source srcset=https://matplotlib.org/matplotblog/posts/create-a-tesla-cybertruck-that-drives/output_18_0_hu7bd58a16bf958d7e07562edee8faac8f_18039_800x0_resize_lanczos_2.png><img src=https://matplotlib.org/matplotblog/posts/create-a-tesla-cybertruck-that-drives/output_18_0_hu7bd58a16bf958d7e07562edee8faac8f_18039_800x0_resize_lanczos_2.png alt="Completed Tesla Cybertruck in Matplotlib"></picture><p>My name is <a href=https://wwww.twitter.com/tedpetrou>Ted Petrou</a>, founder of <a href=https://www.dunderdata.com>Dunder Data</a>, and in this tutorial you will learn how to create the new <a href=https://www.tesla.com/cybertruck>Tesla Cybertruck</a> using Matplotlib. I was inspired by the image below which was originally created by <a href="https://twitter.com/lynnandtonic/status/1197989912970067969?lang=en">Lynn Fisher</a> (without Matplotlib).</p><p>Before going into detail, let's jump to the results. Here is the completed recreation of the Tesla Cybertruck that drives off the screen.</p><video width=700 height=500 controls>
<source src=tesla_animate.mp4 type=video/mp4></video><h2 id=tutorial>Tutorial</h2><p>A tutorial now follows containing all the steps that creates a Tesla Cybertruck that drives. It covers the following topics:</p><ul><li>Figure and Axes setup</li><li>Adding shapes</li><li>Color gradients</li><li>Animation</li></ul><p>Understanding these topics should give you enough to start animating your own figures in Matplotlib. This tutorial is not suited for those with no Matplotlib experience. You need to understand the relationship between the Figure and Axes and how to use the object-oriented interface of Matplotlib.</p><h3 id=figure-and-axes-setup>Figure and Axes setup</h3><p>We first create a Matplotlib Figure without any Axes (the plotting surface). The function <code>create_axes</code> adds an Axes to the Figure, sets the x-limits to be twice the y-limits (to match the ratio of the figure dimensions (16 x 8)), fills in the background with two different dark colors using <code>fill_between</code>, and adds grid lines to make it easier to plot the objects in the exact place you desire. Set the <code>draft</code> parameter to <code>False</code> when you want to remove the grid lines, tick marks, and tick labels.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> numpy <span style=color:#f92672>as</span> np
<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#f92672>as</span> plt
<span style=color:#f92672>%</span>matplotlib inline

fig <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>Figure(figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>16</span>, <span style=color:#ae81ff>8</span>))

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_axes</span>(draft<span style=color:#f92672>=</span>True):
    ax <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>add_subplot()
    ax<span style=color:#f92672>.</span>grid(True)
    ax<span style=color:#f92672>.</span>set_ylim(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>)
    ax<span style=color:#f92672>.</span>set_xlim(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>)
    ax<span style=color:#f92672>.</span>fill_between(x<span style=color:#f92672>=</span>[<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>], y1<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>36</span>, y2<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>)
    ax<span style=color:#f92672>.</span>fill_between(x<span style=color:#f92672>=</span>[<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>], y1<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>, y2<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>36</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#101115</span><span style=color:#e6db74>&#39;</span>)
    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> draft:
        ax<span style=color:#f92672>.</span>grid(False)
        ax<span style=color:#f92672>.</span>axis(<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>off</span><span style=color:#e6db74>&#39;</span>)

create_axes()
fig
</code></pre></div><p><img src=output_4_0.png alt=png></p><h3 id=shapes-in-matplotlib>Shapes in Matplotlib</h3><p>Most of the Cybertruck is composed of shapes (patches in Matplotlib terminology) - circles, rectangles, and polygons. These shapes are available in the patches Matplotlib module. After importing, we instantiate single instances of these patches and then call the <code>add_patch</code> method to add the patch to the Axes.</p><p>For the Cybertruck, I used three patches, <code>Polygon</code>, <code>Rectangle</code>, and <code>Circle</code>. They each have different parameters available in their constructor. I first constructed the body of the car as four polygons. Two other polygons were used for the rims. Each polygon is provided a list of x, y coordinates where the corner points are located. Matplotlib connects all the points in the order given and fills it in with the provided color.</p><p>Notice how the Axes is retrieved as the first line of the function. This is used throughout the tutorial.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> matplotlib.patches <span style=color:#f92672>import</span> Polygon, Rectangle, Circle

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_body</span>():
    ax <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>axes[<span style=color:#ae81ff>0</span>]
    top <span style=color:#f92672>=</span> Polygon([[<span style=color:#f92672>.</span><span style=color:#ae81ff>62</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>51</span>], [<span style=color:#ae81ff>1</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>66</span>], [<span style=color:#ae81ff>1.6</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#DCDCDC</span><span style=color:#e6db74>&#39;</span>)
    windows <span style=color:#f92672>=</span> Polygon([[<span style=color:#f92672>.</span><span style=color:#ae81ff>74</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>54</span>], [<span style=color:#ae81ff>1</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>64</span>], [<span style=color:#ae81ff>1.26</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>6</span>], [<span style=color:#ae81ff>1.262</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>57</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>)
    windows_bottom <span style=color:#f92672>=</span> Polygon([[<span style=color:#f92672>.</span><span style=color:#ae81ff>8</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>], [<span style=color:#ae81ff>1</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>635</span>], [<span style=color:#ae81ff>1.255</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>597</span>],
                              [<span style=color:#ae81ff>1.255</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>585</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#474747</span><span style=color:#e6db74>&#39;</span>)
    base <span style=color:#f92672>=</span> Polygon([[<span style=color:#f92672>.</span><span style=color:#ae81ff>62</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>51</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>62</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>445</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>67</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>78</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>84</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>42</span>],
                    [<span style=color:#ae81ff>1.3</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>423</span>], [<span style=color:#ae81ff>1.36</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>51</span>], [<span style=color:#ae81ff>1.44</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>51</span>], [<span style=color:#ae81ff>1.52</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>43</span>], [<span style=color:#ae81ff>1.58</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>44</span>],
                    [<span style=color:#ae81ff>1.6</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>#1E2329</span><span style=color:#e6db74>&#34;</span>)
    left_rim <span style=color:#f92672>=</span> Polygon([[<span style=color:#f92672>.</span><span style=color:#ae81ff>62</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>445</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>67</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>78</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>84</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>42</span>],
                        [<span style=color:#f92672>.</span><span style=color:#ae81ff>824</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>42</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>77</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>49</span>],[<span style=color:#f92672>.</span><span style=color:#ae81ff>674</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>49</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>633</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>445</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#373E48</span><span style=color:#e6db74>&#39;</span>)
    right_rim <span style=color:#f92672>=</span> Polygon([[<span style=color:#ae81ff>1.3</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>423</span>], [<span style=color:#ae81ff>1.36</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>51</span>], [<span style=color:#ae81ff>1.44</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>51</span>], [<span style=color:#ae81ff>1.52</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>43</span>],
                         [<span style=color:#ae81ff>1.504</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>43</span>], [<span style=color:#ae81ff>1.436</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>498</span>], [<span style=color:#ae81ff>1.364</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>498</span>],
                         [<span style=color:#ae81ff>1.312</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>423</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#4D586A</span><span style=color:#e6db74>&#39;</span>)
    ax<span style=color:#f92672>.</span>add_patch(top)
    ax<span style=color:#f92672>.</span>add_patch(windows)
    ax<span style=color:#f92672>.</span>add_patch(windows_bottom)
    ax<span style=color:#f92672>.</span>add_patch(base)
    ax<span style=color:#f92672>.</span>add_patch(left_rim)
    ax<span style=color:#f92672>.</span>add_patch(right_rim)

create_body()
fig
</code></pre></div><p><img src=output_6_0.png alt=png></p><h4 id=tires>Tires</h4><p>I used three <code>Circle</code> patches for each of the tires. You must provide the center and radius. For the innermost circles (the &ldquo;spokes&rdquo;), I've set the <code>zorder</code> to 99. The <code>zorder</code> determines the order of how plotting objects are layered on top of each other. The higher the number, the higher up on the stack of layers the object will be plotted. During the next step, we will draw some rectangles through the tires and they need to be plotted underneath these spokes.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_tires</span>():
    ax <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>axes[<span style=color:#ae81ff>0</span>]
    left_tire <span style=color:#f92672>=</span> Circle((<span style=color:#f92672>.</span><span style=color:#ae81ff>724</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>39</span>), radius<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>075</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>#202328</span><span style=color:#e6db74>&#34;</span>)
    right_tire <span style=color:#f92672>=</span> Circle((<span style=color:#ae81ff>1.404</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>39</span>), radius<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>075</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>#202328</span><span style=color:#e6db74>&#34;</span>)
    left_inner_tire <span style=color:#f92672>=</span> Circle((<span style=color:#f92672>.</span><span style=color:#ae81ff>724</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>39</span>), radius<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>052</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>#15191C</span><span style=color:#e6db74>&#34;</span>)
    right_inner_tire <span style=color:#f92672>=</span> Circle((<span style=color:#ae81ff>1.404</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>39</span>), radius<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>052</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>#15191C</span><span style=color:#e6db74>&#34;</span>)
    left_spoke <span style=color:#f92672>=</span> Circle((<span style=color:#f92672>.</span><span style=color:#ae81ff>724</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>39</span>), radius<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>01</span><span style=color:#ae81ff>9</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>#202328</span><span style=color:#e6db74>&#34;</span>, zorder<span style=color:#f92672>=</span><span style=color:#ae81ff>99</span>)
    right_spoke <span style=color:#f92672>=</span> Circle((<span style=color:#ae81ff>1.404</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>39</span>), radius<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>01</span><span style=color:#ae81ff>9</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>#202328</span><span style=color:#e6db74>&#34;</span>, zorder<span style=color:#f92672>=</span><span style=color:#ae81ff>99</span>)
    left_inner_spoke <span style=color:#f92672>=</span> Circle((<span style=color:#f92672>.</span><span style=color:#ae81ff>724</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>39</span>), radius<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>011</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>#131418</span><span style=color:#e6db74>&#34;</span>, zorder<span style=color:#f92672>=</span><span style=color:#ae81ff>99</span>)
    right_inner_spoke <span style=color:#f92672>=</span> Circle((<span style=color:#ae81ff>1.404</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>39</span>), radius<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>011</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>#131418</span><span style=color:#e6db74>&#34;</span>, zorder<span style=color:#f92672>=</span><span style=color:#ae81ff>99</span>)

    ax<span style=color:#f92672>.</span>add_patch(left_tire)
    ax<span style=color:#f92672>.</span>add_patch(right_tire)
    ax<span style=color:#f92672>.</span>add_patch(left_inner_tire)
    ax<span style=color:#f92672>.</span>add_patch(right_inner_tire)
    ax<span style=color:#f92672>.</span>add_patch(left_spoke)
    ax<span style=color:#f92672>.</span>add_patch(right_spoke)
    ax<span style=color:#f92672>.</span>add_patch(left_inner_spoke)
    ax<span style=color:#f92672>.</span>add_patch(right_inner_spoke)

create_tires()
fig
</code></pre></div><p><img src=output_8_0.png alt=png></p><h4 id=axles>Axles</h4><p>I used the <code>Rectangle</code> patch to represent the two &lsquo;axles&rsquo; (this isn't the correct term, but you'll see what I mean) going through the tires. You must provide a coordinate for the lower left corner, a width, and a height. You can also provide it an angle (in degrees) to control its orientation. Notice that they go under the spokes plotted from above. This is due to their lower <code>zorder</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_axles</span>():
    ax <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>axes[<span style=color:#ae81ff>0</span>]
    left_left_axle <span style=color:#f92672>=</span> Rectangle((<span style=color:#f92672>.</span><span style=color:#ae81ff>687</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>427</span>), width<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>104</span>, height<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>005</span>, angle<span style=color:#f92672>=</span><span style=color:#ae81ff>315</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#202328</span><span style=color:#e6db74>&#39;</span>)
    left_right_axle <span style=color:#f92672>=</span> Rectangle((<span style=color:#f92672>.</span><span style=color:#ae81ff>761</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>427</span>), width<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>104</span>, height<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>005</span>, angle<span style=color:#f92672>=</span><span style=color:#ae81ff>225</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#202328</span><span style=color:#e6db74>&#39;</span>)
    right_left_axle <span style=color:#f92672>=</span> Rectangle((<span style=color:#ae81ff>1.367</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>427</span>), width<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>104</span>, height<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>005</span>, angle<span style=color:#f92672>=</span><span style=color:#ae81ff>315</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#202328</span><span style=color:#e6db74>&#39;</span>)
    right_right_axle <span style=color:#f92672>=</span> Rectangle((<span style=color:#ae81ff>1.441</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>427</span>), width<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>104</span>, height<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>005</span>, angle<span style=color:#f92672>=</span><span style=color:#ae81ff>225</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#202328</span><span style=color:#e6db74>&#39;</span>)

    ax<span style=color:#f92672>.</span>add_patch(left_left_axle)
    ax<span style=color:#f92672>.</span>add_patch(left_right_axle)
    ax<span style=color:#f92672>.</span>add_patch(right_left_axle)
    ax<span style=color:#f92672>.</span>add_patch(right_right_axle)

create_axles()
fig
</code></pre></div><p><img src=output_10_0.png alt=png></p><h4 id=other-details>Other details</h4><p>The front bumper, head light, tail light, door and window lines are added below. I used regular Matplotlib lines for some of these. Those lines are not patches and get added directly to the Axes without any other additional method.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_other_details</span>():
    ax <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>axes[<span style=color:#ae81ff>0</span>]
    <span style=color:#75715e># other details</span>
    front <span style=color:#f92672>=</span> Polygon([[<span style=color:#f92672>.</span><span style=color:#ae81ff>62</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>51</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>597</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>51</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>589</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>589</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>445</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>62</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>445</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#26272d</span><span style=color:#e6db74>&#39;</span>)
    front_bottom <span style=color:#f92672>=</span> Polygon([[<span style=color:#f92672>.</span><span style=color:#ae81ff>62</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>438</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>58</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>438</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>58</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>423</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>62</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>423</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#26272d</span><span style=color:#e6db74>&#39;</span>)
    head_light <span style=color:#f92672>=</span> Polygon([[<span style=color:#f92672>.</span><span style=color:#ae81ff>62</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>51</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>597</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>51</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>589</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>589</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>62</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>aqua</span><span style=color:#e6db74>&#39;</span>)
    step <span style=color:#f92672>=</span> Polygon([[<span style=color:#f92672>.</span><span style=color:#ae81ff>84</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>39</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>84</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>394</span>], [<span style=color:#ae81ff>1.3</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>397</span>], [<span style=color:#ae81ff>1.3</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>393</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#1E2329</span><span style=color:#e6db74>&#39;</span>)

    <span style=color:#75715e># doors</span>
    ax<span style=color:#f92672>.</span>plot([<span style=color:#f92672>.</span><span style=color:#ae81ff>84</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>84</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>42</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>523</span>], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>, lw<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>)
    ax<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>1.02</span>, <span style=color:#ae81ff>1.04</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>42</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>53</span>], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>, lw<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>)
    ax<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>1.26</span>, <span style=color:#ae81ff>1.26</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>42</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>54</span>], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>, lw<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>)
    ax<span style=color:#f92672>.</span>plot([<span style=color:#f92672>.</span><span style=color:#ae81ff>84</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>85</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>523</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>547</span>], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>, lw<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>)
    ax<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>1.04</span>, <span style=color:#ae81ff>1.04</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>53</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>557</span>], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>, lw<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>)
    ax<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>1.26</span>, <span style=color:#ae81ff>1.26</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>54</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>57</span>], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>, lw<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>)

    <span style=color:#75715e># window lines</span>
    ax<span style=color:#f92672>.</span>plot([<span style=color:#f92672>.</span><span style=color:#ae81ff>87</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>88</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>59</span>], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>, lw<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>)
    ax<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>1.03</span>, <span style=color:#ae81ff>1.04</span>], [<span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>63</span>], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>, lw<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>)

    <span style=color:#75715e># tail light</span>
    tail_light <span style=color:#f92672>=</span> Circle((<span style=color:#ae81ff>1.6</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>), radius<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>007</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>red</span><span style=color:#e6db74>&#39;</span>, alpha<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>6</span>)
    tail_light_center <span style=color:#f92672>=</span> Circle((<span style=color:#ae81ff>1.6</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>), radius<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>003</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>yellow</span><span style=color:#e6db74>&#39;</span>, alpha<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>6</span>)
    tail_light_up <span style=color:#f92672>=</span> Polygon([[<span style=color:#ae81ff>1.597</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>], [<span style=color:#ae81ff>1.6</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>6</span>], [<span style=color:#ae81ff>1.603</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>red</span><span style=color:#e6db74>&#39;</span>, alpha<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>4</span>)
    tail_light_right <span style=color:#f92672>=</span> Polygon([[<span style=color:#ae81ff>1.6</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>563</span>], [<span style=color:#ae81ff>1.64</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>], [<span style=color:#ae81ff>1.6</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>557</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>red</span><span style=color:#e6db74>&#39;</span>, alpha<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>4</span>)
    tail_light_down <span style=color:#f92672>=</span> Polygon([[<span style=color:#ae81ff>1.597</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>], [<span style=color:#ae81ff>1.6</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>52</span>], [<span style=color:#ae81ff>1.603</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>56</span>]], color<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>red</span><span style=color:#e6db74>&#39;</span>, alpha<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>4</span>)

    ax<span style=color:#f92672>.</span>add_patch(front)
    ax<span style=color:#f92672>.</span>add_patch(front_bottom)
    ax<span style=color:#f92672>.</span>add_patch(head_light)
    ax<span style=color:#f92672>.</span>add_patch(step)
    ax<span style=color:#f92672>.</span>add_patch(tail_light)
    ax<span style=color:#f92672>.</span>add_patch(tail_light_center)
    ax<span style=color:#f92672>.</span>add_patch(tail_light_up)
    ax<span style=color:#f92672>.</span>add_patch(tail_light_right)
    ax<span style=color:#f92672>.</span>add_patch(tail_light_down)

create_other_details()
fig
</code></pre></div><p><img src=output_12_0.png alt=png></p><h4 id=color-gradients-for-the-head-light-beam>Color gradients for the head light beam</h4><p>The head light beam has a distinct color gradient that dissipates into the night sky. This is challenging to complete. I found an <a href=https://wwww.twitter.com/tedpetrou>excellent answer on Stack Overflow from user Joe Kington</a> on how to do this. We begin by using the <code>imshow</code> function which creates images from 3-dimensional arrays. Our image will simply be a rectangle of colors.</p><p>We create a 1 x 100 x 4 array that represents 1 row by 100 columns of points of RGBA (red, green, blue, alpha) values. Every point is given the same red, green, and blue values of (0, 1, 1) which represents the color &lsquo;aqua&rsquo;. The alpha value represents opacity and ranges between 0 and 1 with 0 being completely transparent (invisible) and 1 being opaque. We would like the opacity to decrease as the light extends further from the head light (that is further to the left). The NumPy <code>linspace</code> function is used to create an array of 100 numbers increasing linearly from 0 to 1. This array will be set as the alpha values.</p><p>The <code>extent</code> parameter defines the rectangular region where the image will be shown. The four values correspond to xmin, xmax, ymin, and ymax. The 100 alpha values will be mapped to this region beginning from the left. The array of alphas begins at 0, which means that the very left of this rectangular region will be transparent. The opacity will increase moving to the right-side of the rectangle where it eventually reaches 1.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.colors <span style=color:#f92672>as</span> mcolors

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_headlight_beam</span>():
    ax <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>axes[<span style=color:#ae81ff>0</span>]
    z <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>empty((<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>4</span>), dtype<span style=color:#f92672>=</span>float)
    rgb <span style=color:#f92672>=</span> mcolors<span style=color:#f92672>.</span>colorConverter<span style=color:#f92672>.</span>to_rgb(<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>aqua</span><span style=color:#e6db74>&#39;</span>)
    alphas <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>100</span>)
    z[:, :, :<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> rgb
    z[:, :, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> alphas
    im <span style=color:#f92672>=</span> ax<span style=color:#f92672>.</span>imshow(z, extent<span style=color:#f92672>=</span>[<span style=color:#f92672>.</span><span style=color:#ae81ff>3</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>589</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>501</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>505</span>], zorder<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>)

create_headlight_beam()
fig
</code></pre></div><p><img src=output_14_0.png alt=png></p><h4 id=headlight-cloud>Headlight Cloud</h4><p>The cloud of points surrounding the headlight beam is even more challenging to complete. This time, a 100 x 100 grid of points was used to control the opacity. The opacity is directly proportional to the vertical distance from the center beam. Additionally, if a point was outside of the diagonal of the rectangle defined by <code>extent</code>, its opacity was set to 0.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_headlight_cloud</span>():
    ax <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>axes[<span style=color:#ae81ff>0</span>]
    z2 <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>empty((<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>4</span>), dtype<span style=color:#f92672>=</span>float)
    rgb <span style=color:#f92672>=</span> mcolors<span style=color:#f92672>.</span>colorConverter<span style=color:#f92672>.</span>to_rgb(<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>aqua</span><span style=color:#e6db74>&#39;</span>)
    z2[:, :, :<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> rgb
    <span style=color:#66d9ef>for</span> j, x <span style=color:#f92672>in</span> enumerate(np<span style=color:#f92672>.</span>linspace(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>100</span>)):
        <span style=color:#66d9ef>for</span> i, y <span style=color:#f92672>in</span> enumerate(np<span style=color:#f92672>.</span>abs(np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#f92672>.</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>100</span>))):
            <span style=color:#66d9ef>if</span> x <span style=color:#f92672>*</span> <span style=color:#f92672>.</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>&gt;</span> y:
                z2[i, j, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> (y <span style=color:#f92672>+</span> <span style=color:#f92672>.</span><span style=color:#ae81ff>8</span>) <span style=color:#f92672>*</span><span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>
            <span style=color:#66d9ef>else</span>:
                z2[i, j, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
    im2 <span style=color:#f92672>=</span> ax<span style=color:#f92672>.</span>imshow(z2, extent<span style=color:#f92672>=</span>[<span style=color:#f92672>.</span><span style=color:#ae81ff>3</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>65</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>45</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>55</span>], zorder<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>)

create_headlight_cloud()
fig
</code></pre></div><p><img src=output_16_0.png alt=png></p><h3 id=creating-a-function-to-draw-the-car>Creating a Function to Draw the Car</h3><p>All of our work from above can be placed in a single function that draws the car. This will be used when initializing our animation. Notice, that the first line of the function clears the Figure, which removes our Axes. If we don't clear the Figure, then we will keep adding more and more Axes each time this function is called. Since this is our final product, we set <code>draft</code> to <code>False</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>draw_car</span>():
    fig<span style=color:#f92672>.</span>clear()
    create_axes(draft<span style=color:#f92672>=</span>False)
    create_body()
    create_tires()
    create_axles()
    create_other_details()
    create_headlight_beam()
    create_headlight_beam()

draw_car()
fig
</code></pre></div><p><img src=output_18_0.png alt=png></p><h2 id=animation>Animation</h2><p>Animation in Matplotlib is fairly straightforward. You must create a function that updates the position of the objects in your figure for each frame. This function is called repeatedly for each frame.</p><p>In the <code>update</code> function below, we loop through each patch, line, and image in our Axes and reduce the x-value of each plotted object by .015. This has the effect of moving the truck to the left. The trickiest part was changing the x and y values for the rectangular tire &lsquo;axles&rsquo; so that it appeared that the tires were rotating. Some basic trigonometry helps calculate this.</p><p>Implicitly, Matplotlib passes the update function the frame number as an integer as the first argument. We accept this input as the parameter <code>frame_number</code>. We only use it in one place, and that is to do nothing during the first frame.</p><p>Finally, the <code>FuncAnimation</code> class from the animation module is used to construct the animation. We provide it our original Figure, the function to update the Figure (<code>update</code>), a function to initialize the Figure (<code>draw_car</code>), the total number of frames, and any extra arguments used during update (<code>fargs</code>).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> matplotlib.animation <span style=color:#f92672>import</span> FuncAnimation

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>update</span>(frame_number, x_delta, radius, angle):
    <span style=color:#66d9ef>if</span> frame_number <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
        <span style=color:#66d9ef>return</span>
    ax <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>axes[<span style=color:#ae81ff>0</span>]
    <span style=color:#66d9ef>for</span> patch <span style=color:#f92672>in</span> ax<span style=color:#f92672>.</span>patches:
        <span style=color:#66d9ef>if</span> isinstance(patch, Polygon):
            arr <span style=color:#f92672>=</span> patch<span style=color:#f92672>.</span>get_xy()
            arr[:, <span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span><span style=color:#f92672>=</span> x_delta
        <span style=color:#66d9ef>elif</span> isinstance(patch, Circle):
            x, y <span style=color:#f92672>=</span> patch<span style=color:#f92672>.</span>get_center()
            patch<span style=color:#f92672>.</span>set_center((x <span style=color:#f92672>-</span> x_delta, y))
        <span style=color:#66d9ef>elif</span> isinstance(patch, Rectangle):
            xd_old <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>np<span style=color:#f92672>.</span>cos(np<span style=color:#f92672>.</span>pi <span style=color:#f92672>*</span> patch<span style=color:#f92672>.</span>angle <span style=color:#f92672>/</span> <span style=color:#ae81ff>180</span>) <span style=color:#f92672>*</span> radius
            yd_old <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>np<span style=color:#f92672>.</span>sin(np<span style=color:#f92672>.</span>pi <span style=color:#f92672>*</span> patch<span style=color:#f92672>.</span>angle <span style=color:#f92672>/</span> <span style=color:#ae81ff>180</span>) <span style=color:#f92672>*</span> radius
            patch<span style=color:#f92672>.</span>angle <span style=color:#f92672>+</span><span style=color:#f92672>=</span> angle
            xd <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>np<span style=color:#f92672>.</span>cos(np<span style=color:#f92672>.</span>pi <span style=color:#f92672>*</span> patch<span style=color:#f92672>.</span>angle <span style=color:#f92672>/</span> <span style=color:#ae81ff>180</span>) <span style=color:#f92672>*</span> radius
            yd <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>np<span style=color:#f92672>.</span>sin(np<span style=color:#f92672>.</span>pi <span style=color:#f92672>*</span> patch<span style=color:#f92672>.</span>angle <span style=color:#f92672>/</span> <span style=color:#ae81ff>180</span>) <span style=color:#f92672>*</span> radius
            x <span style=color:#f92672>=</span> patch<span style=color:#f92672>.</span>get_x()
            y <span style=color:#f92672>=</span> patch<span style=color:#f92672>.</span>get_y()
            x_new <span style=color:#f92672>=</span> x <span style=color:#f92672>-</span> x_delta <span style=color:#f92672>+</span> xd <span style=color:#f92672>-</span> xd_old
            y_new <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> yd <span style=color:#f92672>-</span> yd_old
            patch<span style=color:#f92672>.</span>set_x(x_new)
            patch<span style=color:#f92672>.</span>set_y(y_new)

    <span style=color:#66d9ef>for</span> line <span style=color:#f92672>in</span> ax<span style=color:#f92672>.</span>lines:
        xdata <span style=color:#f92672>=</span> line<span style=color:#f92672>.</span>get_xdata()
        line<span style=color:#f92672>.</span>set_xdata(xdata <span style=color:#f92672>-</span> x_delta)

    <span style=color:#66d9ef>for</span> image <span style=color:#f92672>in</span> ax<span style=color:#f92672>.</span>images:
        extent <span style=color:#f92672>=</span> image<span style=color:#f92672>.</span>get_extent()
        extent[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span><span style=color:#f92672>=</span> x_delta
        extent[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span><span style=color:#f92672>=</span> x_delta

animation <span style=color:#f92672>=</span> FuncAnimation(fig, update, init_func<span style=color:#f92672>=</span>draw_car, frames<span style=color:#f92672>=</span><span style=color:#ae81ff>110</span>,
                          repeat<span style=color:#f92672>=</span>False, fargs<span style=color:#f92672>=</span>(<span style=color:#f92672>.</span><span style=color:#ae81ff>015</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>052</span>, <span style=color:#ae81ff>4</span>))
</code></pre></div><h3 id=save-animation>Save animation</h3><p>Finally, we can save the animation as an mp4 file (you must have ffmpeg installed for this to work). We set the frames-per-second (<code>fps</code>) to 30. From above, the total number of frames is 110 (enough to move the truck off the screen) so the video will last nearly four seconds (110 / 30).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>animation<span style=color:#f92672>.</span>save(<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>tesla_animate.mp4</span><span style=color:#e6db74>&#39;</span>, fps<span style=color:#f92672>=</span><span style=color:#ae81ff>30</span>, bitrate<span style=color:#f92672>=</span><span style=color:#ae81ff>3000</span>)
</code></pre></div><video width=700 height=500 controls>
<source src=tesla_animate.mp4 type=video/mp4></video><h2 id=continue-animating>Continue Animating</h2><p>I encourage you to add more components to your Cybertruck animation to personalize the creation. I suggest encapsulating each addition with a function as done in this tutorial.</p></article></main><nav class="end-nav side-padding"></nav><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous onload=renderMathInElement(document.body);></script><script src=https://matplotlib.org/matplotblog/js/core.min.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>