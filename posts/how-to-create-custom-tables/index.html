<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>How to create custom tables &#183; Matplotblog</title><meta name=description content="A tutorial on how to create custom tables in Matplotlib which allow for flexible design and customization."><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link href=https://matplotlib.org/matplotblog/css/concated.min.css rel=stylesheet><style>body{background:#ecedef url(https://matplotlib.org/matplotblog/bg_tiles.png)repeat}</style></head><body class=single-body><nav class="nav-bar side-padding"><h1 class=nav-header><a href=https://matplotlib.org/matplotblog/ class=nav-text><img src=https://matplotlib.org/matplotblog/mpl_logo.png></a></h1><a href=https://matplotlib.org/matplotblog/index.xml><img src=https://matplotlib.org/matplotblog/rss.svg style=width:25px;margin:10px alt="RSS feed"></a><div class=hamburger-menu><button onclick=hamburgerMenuPressed.call(this) aria-haspopup=true aria-expanded=false aria-controls=menu aria-label=Menu>
<span></span><span></span></button><ul id=menu class=hamburger-menu-overlay><li><a href=https://matplotlib.org/matplotblog/ class=hamburger-menu-overlay-link>Home</a></li><li><a href=https://matplotlib.org/matplotblog/posts/how-to-contribute/ class=hamburger-menu-overlay-link>How to Contribute</a></li><li><a href=https://matplotlib.org/matplotblog/categories/3d class=hamburger-menu-overlay-link>3d</a></li><li><a href=https://matplotlib.org/matplotblog/categories/academia class=hamburger-menu-overlay-link>Academia</a></li><li><a href=https://matplotlib.org/matplotblog/categories/art class=hamburger-menu-overlay-link>Art</a></li><li><a href=https://matplotlib.org/matplotblog/categories/editorial class=hamburger-menu-overlay-link>Editorial</a></li><li><a href=https://matplotlib.org/matplotblog/categories/graphs class=hamburger-menu-overlay-link>Graphs</a></li><li><a href=https://matplotlib.org/matplotblog/categories/gsoc class=hamburger-menu-overlay-link>Gsoc</a></li><li><a href=https://matplotlib.org/matplotblog/categories/gsod class=hamburger-menu-overlay-link>Gsod</a></li><li><a href=https://matplotlib.org/matplotblog/categories/industry class=hamburger-menu-overlay-link>Industry</a></li><li><a href=https://matplotlib.org/matplotblog/categories/news class=hamburger-menu-overlay-link>News</a></li><li><a href=https://matplotlib.org/matplotblog/categories/tutorials class=hamburger-menu-overlay-link>Tutorials</a></li><li><a href=https://matplotlib.org class=hamburger-menu-overlay-link target=blank>About</a></li></ul></div></nav><main class="content side-text-padding"><article class="post dropcase"><header class=post-header><h1 class=post-title>How to create custom tables</h1><p class=post-date>Posted <time datetime=2022-03-11>Mar 11, 2022</time>
<span class=post-author>&mdash; By Tim Bayer</span></p></header><picture class=post-figure>
<source srcset=https://matplotlib.org/matplotblog/posts/how-to-create-custom-tables/header_hu31b53389af290be45456c34ab44025cc_909691_800x0_resize_q75_lanczos.jpeg><img src=https://matplotlib.org/matplotblog/posts/how-to-create-custom-tables/header_hu31b53389af290be45456c34ab44025cc_909691_800x0_resize_q75_lanczos.jpeg alt="header pic"></picture><h1 id=introduction>Introduction</h1><p>This tutorial will teach you how to create custom tables in Matplotlib, which are extremely flexible in terms of the design and layout. You’ll hopefully see that the code is very straightforward! In fact, the main methods we will be using are <code>ax.text()</code> and <code>ax.plot()</code>.</p><p>I want to give a lot of credit to <a href=https://twitter.com/CrumpledJumper>Todd Whitehead</a> who has created these types of tables for various Basketball teams and players. His approach to tables is nothing short of fantastic due to the simplicity in design and how he manages to effectively communicate data to his audience. I was very much inspired by his approach and wanted to be able to achieve something similar in Matplotlib.</p><p>Before I begin with the tutorial, I wanted to go through the logic behind my approach as I think it's valuable and transferable to other visualizations (and tools!).</p><p>With that, I would like you to <strong>think of tables as highly structured and organized scatterplots</strong>. Let me explain why: for me, scatterplots are the most fundamental chart type (regardless of tool).</p><p><img src=scatterplots.png alt=Scatterplots></p><p>For example <code>ax.plot()</code> automatically &ldquo;connects the dots&rdquo; to form a line chart or <code>ax.bar()</code> automatically &ldquo;draws rectangles&rdquo; across a set of coordinates. Very often (again regardless of tool) we may not always see this process happening. The point is, it is useful to think of any chart as a scatterplot or simply as a collection of shapes based on xy coordinates. This logic / thought process can unlock a ton of <em>custom</em> charts as the only thing you need are the coordinates (which can be mathematically computed).</p><p>With that in mind, we can move on to tables! So rather than plotting rectangles or circles we want to plot text and gridlines in a highly organized manner.</p><p>We will aim to create a table like this, which I have posted on Twitter <a href=https://twitter.com/TimBayer93/status/1476926897850359809>here</a>. Note, the only elements added outside of Matplotlib are the fancy arrows and their descriptions.</p><p><img src=0_example.png alt=Example></p><h1 id=creating-a-custom-table>Creating a custom table</h1><p>Importing required libraries.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib <span style=color:#f92672>as</span> mpl
<span style=color:#f92672>import</span> matplotlib.patches <span style=color:#f92672>as</span> patches
<span style=color:#f92672>from</span> matplotlib <span style=color:#f92672>import</span> pyplot <span style=color:#66d9ef>as</span> plt
</code></pre></div><p>First, we will need to set up a coordinate space - I like two approaches:</p><ol><li>working with the standard Matplotlib 0-1 scale (on both the x- and y-axis) or</li><li>an index system based on row / column numbers (this is what I will use here)</li></ol><p>I want to create a coordinate space for a table containing 6 columns and 10 rows - this means (similar to pandas row/column indices) each row will have an index between 0-9 and each column will have an index between 0-6 (this is technically 1 more column than what we defined but one of the columns with a lot of text will span two column “indices”)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># first, we&#39;ll create a new figure and axis object</span>
fig, ax <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplots(figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>6</span>))

<span style=color:#75715e># set the number of rows and cols for our table</span>
rows <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>
cols <span style=color:#f92672>=</span> <span style=color:#ae81ff>6</span>

<span style=color:#75715e># create a coordinate system based on the number of rows/columns</span>
<span style=color:#75715e># adding a bit of padding on bottom (-1), top (1), right (0.5)</span>
ax<span style=color:#f92672>.</span>set_ylim(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, rows <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
ax<span style=color:#f92672>.</span>set_xlim(<span style=color:#ae81ff>0</span>, cols <span style=color:#f92672>+</span> <span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>)
</code></pre></div><p><img src=1_coordinate_space.png alt="Empty Coordinate Space"></p><p>Now, the data we want to plot is sports (football) data. We have information about 10 players and some values against a number of different metrics (which will form our columns) such as goals, shots, passes etc.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># sample data</span>
data <span style=color:#f92672>=</span> [
        {<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>id</span><span style=color:#e6db74>&#39;</span>: <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>player10</span><span style=color:#e6db74>&#39;</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>shots</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>1</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>passes</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>79</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>goals</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>0</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>assists</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>1</span>},
        {<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>id</span><span style=color:#e6db74>&#39;</span>: <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>player9</span><span style=color:#e6db74>&#39;</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>shots</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>2</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>passes</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>72</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>goals</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>0</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>assists</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>1</span>},
        {<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>id</span><span style=color:#e6db74>&#39;</span>: <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>player8</span><span style=color:#e6db74>&#39;</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>shots</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>3</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>passes</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>47</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>goals</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>0</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>assists</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>0</span>},
        {<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>id</span><span style=color:#e6db74>&#39;</span>: <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>player7</span><span style=color:#e6db74>&#39;</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>shots</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>4</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>passes</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>99</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>goals</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>0</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>assists</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>5</span>},
        {<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>id</span><span style=color:#e6db74>&#39;</span>: <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>player6</span><span style=color:#e6db74>&#39;</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>shots</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>5</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>passes</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>84</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>goals</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>1</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>assists</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>4</span>},
        {<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>id</span><span style=color:#e6db74>&#39;</span>: <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>player5</span><span style=color:#e6db74>&#39;</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>shots</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>6</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>passes</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>56</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>goals</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>2</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>assists</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>0</span>},
        {<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>id</span><span style=color:#e6db74>&#39;</span>: <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>player4</span><span style=color:#e6db74>&#39;</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>shots</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>7</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>passes</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>67</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>goals</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>0</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>assists</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>3</span>},
        {<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>id</span><span style=color:#e6db74>&#39;</span>: <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>player3</span><span style=color:#e6db74>&#39;</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>shots</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>8</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>passes</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>91</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>goals</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>1</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>assists</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>1</span>},
        {<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>id</span><span style=color:#e6db74>&#39;</span>: <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>player2</span><span style=color:#e6db74>&#39;</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>shots</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>9</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>passes</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>75</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>goals</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>3</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>assists</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>2</span>},
        {<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>id</span><span style=color:#e6db74>&#39;</span>: <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>player1</span><span style=color:#e6db74>&#39;</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>shots</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>10</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>passes</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>70</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>goals</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>4</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>assists</span><span style=color:#e6db74>&#39;</span>: <span style=color:#ae81ff>0</span>}
]
</code></pre></div><p>Next, we will start plotting the table (as a structured scatterplot). I did promise that the code will be very simple, less than 10 lines really, here it is:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># from the sample data, each dict in the list represents one row</span>
<span style=color:#75715e># each key in the dict represents a column</span>
<span style=color:#66d9ef>for</span> row <span style=color:#f92672>in</span> range(rows):
	<span style=color:#75715e># extract the row data from the list</span>
    d <span style=color:#f92672>=</span> data[row]

    <span style=color:#75715e># the y (row) coordinate is based on the row index (loop)</span>
    <span style=color:#75715e># the x (column) coordinate is defined based on the order I want to display the data in</span>

    <span style=color:#75715e># player name column</span>
    ax<span style=color:#f92672>.</span>text(x<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>, y<span style=color:#f92672>=</span>row, s<span style=color:#f92672>=</span>d[<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>id</span><span style=color:#e6db74>&#39;</span>], va<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>center</span><span style=color:#e6db74>&#39;</span>, ha<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>left</span><span style=color:#e6db74>&#39;</span>)
    <span style=color:#75715e># shots column - this is my &#34;main&#34; column, hence bold text</span>
    ax<span style=color:#f92672>.</span>text(x<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>, y<span style=color:#f92672>=</span>row, s<span style=color:#f92672>=</span>d[<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>shots</span><span style=color:#e6db74>&#39;</span>], va<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>center</span><span style=color:#e6db74>&#39;</span>, ha<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>right</span><span style=color:#e6db74>&#39;</span>, weight<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>bold</span><span style=color:#e6db74>&#39;</span>)
    <span style=color:#75715e># passes column</span>
    ax<span style=color:#f92672>.</span>text(x<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>, y<span style=color:#f92672>=</span>row, s<span style=color:#f92672>=</span>d[<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>passes</span><span style=color:#e6db74>&#39;</span>], va<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>center</span><span style=color:#e6db74>&#39;</span>, ha<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>right</span><span style=color:#e6db74>&#39;</span>)
    <span style=color:#75715e># goals column</span>
    ax<span style=color:#f92672>.</span>text(x<span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>, y<span style=color:#f92672>=</span>row, s<span style=color:#f92672>=</span>d[<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>goals</span><span style=color:#e6db74>&#39;</span>], va<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>center</span><span style=color:#e6db74>&#39;</span>, ha<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>right</span><span style=color:#e6db74>&#39;</span>)
    <span style=color:#75715e># assists column</span>
    ax<span style=color:#f92672>.</span>text(x<span style=color:#f92672>=</span><span style=color:#ae81ff>5</span>, y<span style=color:#f92672>=</span>row, s<span style=color:#f92672>=</span>d[<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>assists</span><span style=color:#e6db74>&#39;</span>], va<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>center</span><span style=color:#e6db74>&#39;</span>, ha<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>right</span><span style=color:#e6db74>&#39;</span>)
</code></pre></div><p><img src=2_adding_data.png alt="Adding data"></p><p>As you can see, we are starting to get a basic wireframe of our table. Let's add column headers to further make this <em>scatterplot</em> look like a table.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># Add column headers</span>
<span style=color:#75715e># plot them at height y=9.75 to decrease the space to the</span>
<span style=color:#75715e># first data row (you&#39;ll see why later)</span>
ax<span style=color:#f92672>.</span>text(<span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>9.75</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>Player</span><span style=color:#e6db74>&#39;</span>, weight<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>bold</span><span style=color:#e6db74>&#39;</span>, ha<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>left</span><span style=color:#e6db74>&#39;</span>)
ax<span style=color:#f92672>.</span>text(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>9.75</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>Shots</span><span style=color:#e6db74>&#39;</span>, weight<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>bold</span><span style=color:#e6db74>&#39;</span>, ha<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>right</span><span style=color:#e6db74>&#39;</span>)
ax<span style=color:#f92672>.</span>text(<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>9.75</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>Passes</span><span style=color:#e6db74>&#39;</span>, weight<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>bold</span><span style=color:#e6db74>&#39;</span>, ha<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>right</span><span style=color:#e6db74>&#39;</span>)
ax<span style=color:#f92672>.</span>text(<span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>9.75</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>Goals</span><span style=color:#e6db74>&#39;</span>, weight<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>bold</span><span style=color:#e6db74>&#39;</span>, ha<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>right</span><span style=color:#e6db74>&#39;</span>)
ax<span style=color:#f92672>.</span>text(<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>9.75</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>Assists</span><span style=color:#e6db74>&#39;</span>, weight<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>bold</span><span style=color:#e6db74>&#39;</span>, ha<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>right</span><span style=color:#e6db74>&#39;</span>)
ax<span style=color:#f92672>.</span>text(<span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>9.75</span>, <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>Special</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>Column</span><span style=color:#e6db74>&#39;</span>, weight<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>bold</span><span style=color:#e6db74>&#39;</span>, ha<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>right</span><span style=color:#e6db74>&#39;</span>, va<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>bottom</span><span style=color:#e6db74>&#39;</span>)
</code></pre></div><p><img src=3_headers.png alt="Adding Headers"></p><h1 id=formatting-our-table>Formatting our table</h1><p>The rows and columns of our table are now done. The only thing that is left to do is formatting - much of this is personal choice. The following elements I think are generally useful when it comes to good table design (more research <a href=https://www.storytellingwithdata.com/blog/2019/10/29/how-i-improved-the-table>here</a>):</p><p>Gridlines: Some level of gridlines are useful (less is more). Generally some guidance to help the audience trace their eyes or fingers across the screen can be helpful (this way we can <em>group</em> items too by drawing gridlines around them).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>for</span> row <span style=color:#f92672>in</span> range(rows):
    ax<span style=color:#f92672>.</span>plot(
    	[<span style=color:#ae81ff>0</span>, cols <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>],
    	[row <span style=color:#f92672>-</span><span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>, row <span style=color:#f92672>-</span> <span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>],
    	ls<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>:</span><span style=color:#e6db74>&#39;</span>,
    	lw<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>.5</span><span style=color:#e6db74>&#39;</span>,
    	c<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>grey</span><span style=color:#e6db74>&#39;</span>
    )

<span style=color:#75715e># add a main header divider</span>
<span style=color:#75715e># remember that we plotted the header row slightly closer to the first data row</span>
<span style=color:#75715e># this helps to visually separate the header row from the data rows</span>
<span style=color:#75715e># each data row is 1 unit in height, thus bringing the header closer to our </span>
<span style=color:#75715e># gridline gives it a distinctive difference.</span>
ax<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>0</span>, cols <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>], [<span style=color:#ae81ff>9.5</span>, <span style=color:#ae81ff>9.5</span>], lw<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>.5</span><span style=color:#e6db74>&#39;</span>, c<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>)
</code></pre></div><p><img src=4_gridlines.png alt="Adding Gridlines"></p><p>Another important element for tables in my opinion is highlighting the <em>key</em> data points. We already bolded the values that are in the &ldquo;Shots&rdquo; column but we can further shade this column to give it further importance to our readers.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># highlight the column we are sorting by</span>
<span style=color:#75715e># using a rectangle patch</span>
rect <span style=color:#f92672>=</span> patches<span style=color:#f92672>.</span>Rectangle(
	(<span style=color:#ae81ff>1.5</span>, <span style=color:#f92672>-</span><span style=color:#f92672>.</span><span style=color:#ae81ff>5</span>),  <span style=color:#75715e># bottom left starting position (x,y)</span>
	<span style=color:#f92672>.</span><span style=color:#ae81ff>65</span>,  <span style=color:#75715e># width</span>
	<span style=color:#ae81ff>10</span>,  <span style=color:#75715e># height</span>
	ec<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>none</span><span style=color:#e6db74>&#39;</span>,
	fc<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>grey</span><span style=color:#e6db74>&#39;</span>,
	alpha<span style=color:#f92672>=</span><span style=color:#f92672>.</span><span style=color:#ae81ff>2</span>,
	zorder<span style=color:#f92672>=</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
)
ax<span style=color:#f92672>.</span>add_patch(rect)
</code></pre></div><p><img src=5_highlight_column.png alt="Highlight column"></p><p>We're almost there. The magic piece is <code>ax.axis(‘off’)</code>. This hides the axis, axis ticks, labels and everything “attached” to the axes, which means our table now looks like a clean table!</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>ax<span style=color:#f92672>.</span>axis(<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>off</span><span style=color:#e6db74>&#39;</span>)
</code></pre></div><p><img src=6_hide_axis.png alt="Hide axis"></p><p>Adding a title is also straightforward.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>ax<span style=color:#f92672>.</span>set_title(
	<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>A title for our table!</span><span style=color:#e6db74>&#39;</span>,
	loc<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>left</span><span style=color:#e6db74>&#39;</span>,
	fontsize<span style=color:#f92672>=</span><span style=color:#ae81ff>18</span>,
	weight<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>bold</span><span style=color:#e6db74>&#39;</span>
)
</code></pre></div><p><img src=6_title.png alt=Title></p><h1 id=bonus-adding-special-columns>Bonus: Adding special columns</h1><p>Finally, if you wish to add images, sparklines, or other custom shapes and patterns then we can do this too.</p><p>To achieve this we will create new floating axes using <code>fig.add_axes()</code> to create a new set of floating axes based on the figure coordinates (this is different to our axes coordinate system!).</p><p>Remember that figure coordinates by default are between 0 and 1. [0,0] is the bottom left corner of the entire figure. If you’re unfamiliar with the differences between a figure and axes then check out <a href=https://matplotlib.org/stable/gallery/showcase/anatomy.html>Matplotlib's Anatomy of a Figure</a> for further details.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>newaxes <span style=color:#f92672>=</span> []
<span style=color:#66d9ef>for</span> row <span style=color:#f92672>in</span> range(rows):
    <span style=color:#75715e># offset each new axes by a set amount depending on the row</span>
    <span style=color:#75715e># this is probably the most fiddly aspect (TODO: some neater way to automate this)</span>
    newaxes<span style=color:#f92672>.</span>append(
        fig<span style=color:#f92672>.</span>add_axes([<span style=color:#f92672>.</span><span style=color:#ae81ff>75</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>725</span> <span style=color:#f92672>-</span> (row<span style=color:#f92672>*</span><span style=color:#f92672>.</span><span style=color:#ae81ff>063</span>), <span style=color:#f92672>.</span><span style=color:#ae81ff>12</span>, <span style=color:#f92672>.</span><span style=color:#ae81ff>06</span>])
    )
</code></pre></div><p>You can see below what these <em>floating</em> axes will look like (I say floating because they’re on top of our main axis object). The only tricky thing is figuring out the xy (figure) coordinates for these.</p><p>These <em>floating</em> axes behave like any other Matplotlib axes. Therefore, we have access to the same methods such as ax.bar(), ax.plot(), patches, etc. Importantly, each axis has its own independent coordinate system. We can format them as we wish.</p><p><img src=7_floating_axes.png alt="Floating axes"></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># plot dummy data as a sparkline for illustration purposes</span>
<span style=color:#75715e># you can plot _anything_ here, images, patches, etc.</span>
newaxes[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>], [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>], c<span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>black</span><span style=color:#e6db74>&#39;</span>)
newaxes[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>.</span>set_ylim(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>3</span>)

<span style=color:#75715e># once again, the key is to hide the axis!</span>
newaxes[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>.</span>axis(<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>off</span><span style=color:#e6db74>&#39;</span>)
</code></pre></div><p><img src=8_sparklines.png alt=Sparklines></p><p>That’s it, custom tables in Matplotlib. I did promise very simple code and an ultra-flexible design in terms of what you want / need. You can adjust sizes, colors and pretty much anything with this approach and all you need is simply a loop that plots text in a structured and organized manner. I hope you found it useful. Link to a Google Colab notebook with the code is <a href=https://colab.research.google.com/drive/1JshATKxjs7NWz2U8Oy6xOJaLgjldC1CW>here</a></p></article></main><nav class="end-nav side-padding"></nav><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous onload=renderMathInElement(document.body);></script><script src=https://matplotlib.org/matplotblog/js/core.min.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>